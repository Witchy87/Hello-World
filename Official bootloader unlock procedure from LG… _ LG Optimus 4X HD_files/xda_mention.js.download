var Browser={Version:function(){var e=999;return-1!=navigator.appVersion.indexOf("MSIE")&&(e=parseFloat(navigator.appVersion.split("MSIE")[1])),e}};Browser.Version()>=9&&(jQuery.widget("custom.customcomplete",jQuery.ui.autocomplete,{_renderMenu:function(e,t){var r=this;jQuery.each(t,function(t,a){0==t&&e.append('<li class="ui-category"><strong>Select XDA member to mention:</strong></li>'),r._renderItemData(e,a)})}}),jQuery(document).ready(function(){function e(e,t){return e=e.replace(/\[code].+\[\/code]/,""),e.substring(0,t.selectionStart).match(/(^@|((?:\s))(@[\w@]))[\w\s]{0,24}$/)}function t(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select()}}jQuery("#vB_Editor_001_textarea, #vB_Editor_QR_textarea, #qapost-answer-comment-textarea").customcomplete({source:function(t,r){var a=e(t.term,jQuery("#vB_Editor_001_textarea, #vB_Editor_QR_textarea, #qapost-answer-comment-textarea")[0]);a=null!=a?a[0]:"";var n=a;""!=a&&(a=a.substring("@"==a[0]?1:2)),n=n.replace(a,"");var o=[],s={securitytoken:SECURITYTOKEN,"do":"usersearch",fragment:a};jQuery.post("/ajax.php?do=usersearch",s,function(e){jQuery(e).find("user").each(function(e,t){var r=jQuery(t).text(),a={label:r,value:n+r};o.push(a)}),r(o)})},focus:function(){return!1},select:function(r,a){var n=jQuery(this).val(),o=e(n,this)[0],s=n.substring(0,this.selectionStart-o.length);jQuery(this).val(s+a.item.value+n.substring(this.selectionStart,n.length));var i=s.length+a.item.value.length;return t(this,i),!1},search:function(){var t=e(this.value,this);return null!=t}}),jQuery("#vB_Editor_001_textarea, #vB_Editor_QR_textarea, #qapost-answer-comment-textarea").bind("click",function(){jQuery(this).customcomplete("close")}),jQuery("#vB_Editor_001_textarea, #vB_Editor_QR_textarea, #qapost-answer-comment-textarea").attr("autocomplete","on")}));